# backend

## 1.sendbox 이용
### process
- 유저 : 문제풀이 SQL 전송
- 서버 : sendbox 생성
- 서버 : 문제DB 생성 및 적용
- 서버 : 유저관련 처리
- 유저 : 결과 확인
- 서버 : sendbox 삭제

### advantage
- 일반적인 온라인 저지에서 사용된다.

### problem
- 복잡하다.
- window 서버에서 불가능 할 것 같다.

---

## 2.한개의 DB를 여럿이서 공유하는 구조
### process
- 유저 : 문제풀이 SQL 전송
- 서버 : DB에 SQL 적용후 반환
- 서버 : 유저관련 정보 처리
- 유저 : 결과 확인

### advantage
- ...

### problem
- 하나의 DB에 여러명의 접속으로 부하가 생길것이다. 여러개의 DB를 만들어 부하를 분산하면 괜찮을지도 모르겠다.
- SELECT 밖에 사용할수 없다.

---

## 3.각회원마다 DB를 한개씩 가지는 구조
### process
- 유저 : 회원가입
- 서버 : DB생성
- 유저 : 문제풀이 SQL 전송
- 서버 : 유저의 DB에 문제 DB에 있는 table 복사
- 서버 : 유저의 DB에 SQL 적용후 반환
- 서버 : 유저관련 정보 처리
- 유저 : 결과 확인
- 서버 : 유저의 DB에서 문제 table 삭제

### advantage
- 안전하게 DML, DCL 을 작성 할 수 있다.

### problem
- DB서버 작업량 많아 부하가 생길것같다.

---

## 4.클라이언트, 즉 브라우저에서 처리하는 구조(websql)
### process
- 유저 : 문제풀이 접근
- 브라우저 : websql에 문제 table 생성
- 유저 : 체점버튼 클릭
- 브라우저 : 내부에서 websql으로 유저가 작성한 sql 적용후 결과 확인
- 브라우저 : 결과 서버로 전송
- 서버 : 랭킹 및 유저정보에 반영

### advantage
- 서버 부하를 최소화 할 수 있다
- 빠른 처리 속도를 기대할 수 있다.

### problem
- 변조된 데이터가 서버로 전송될 가능성이 있다.
- IE10 지원 안함 (IE11이상 지원)
- 일부 브라우저 및 환경에서 용량 제한이 존재 (최소 1gb 문제 없음)

---

## 5.트랜잭션 단위로 보내는 구조
### process
- 유저 : 문제풀이 SQL 전송
- 서버 : 받은 SQL에 rollback을 붙여 문제서버에 요청한다.
- 문제서버 : 문제 DB에서 결과를 서버로 반환한다
- 서버 : 서버에서 유저에게 받은 결과를 반환한다.

### advantage
- 서버부하가 적다

### problem
- 인젝션에 위험이 있을 수 있다.